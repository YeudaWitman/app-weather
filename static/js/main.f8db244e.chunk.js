(this["webpackJsonpapp-weather"]=this["webpackJsonpapp-weather"]||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=a(11),l=a(25),u=a(166),m=function(e){return{type:"DARK_MODE",payload:e}},s=function(e){return{type:"OPEN_TOAST",payload:e}},d=function(e){return{type:"SET_CURRENT_CITY",payload:e}},E=function(e){return{type:"ADD_TO_FAVORITES",payload:e}},p=function(e){return{type:"REMOVE_FROM_FAVORITES",payload:e}},f=function(e){return{type:"SEARCH",payload:e}},g=function(e){return{type:"CLOSE_SUGGESTION_MENU",payload:e}},h="favorites",y=function(e){if(localStorage.getItem("dark-mode")){var t=JSON.parse(localStorage.getItem("dark-mode"));e(m(t))}},v={add:function(e,t){var a=[];localStorage.getItem(h)&&(a=JSON.parse(localStorage.getItem(h))),a.push(t),e(E(a)),localStorage.setItem(h,JSON.stringify(a)),e(s("".concat(t.name," added to favorites")))},remove:function(e,t){var a=[];localStorage.getItem(h)&&(a=JSON.parse(localStorage.getItem(h)));var n=a.map((function(e){return e.key})).indexOf(t.key);n>-1&&a.splice(n,1),e(p(a)),localStorage.setItem(h,JSON.stringify(a)),e(s("".concat(t.name," removed from favorites")))}},b=a(56),O=a(154),S=a(155),_=a(156),T=a(46),j=a(174),C=a(157),k=a(147),I=a(148),N=a(168),D=a(149),A=a(150),R=a(172),w=function(e){var t=e.handleClose,a=e.toast;return r.a.createElement(R.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:a.open,autoHideDuration:4e3,onClose:t,message:a.msg,action:r.a.createElement(k.a,{size:"small","aria-label":"close",color:"inherit",onClick:t},r.a.createElement(I.a,{fontSize:"small"},"close"))})},x=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.toast}));return r.a.createElement(D.a,null,r.a.createElement(A.a,{control:r.a.createElement(k.a,{variant:"contained",onClick:function(){if(localStorage.getItem(h))return localStorage.removeItem(h),e(s("favorites deleted!")),void e(p([]));e(s("There no stored favorites"))},name:"clear-favorites"},r.a.createElement(I.a,{color:"secondary"},"delete")),label:"Clear favorites"}),r.a.createElement(w,{handleClose:function(){return function(e){e({type:"CLOSE_TOAST"})}(e)},toast:t}))},F=a(173),G=function(e){return e.dark?r.a.createElement(I.a,{color:"secondary"},"brightness_3"):r.a.createElement(I.a,{color:"primary"},"brightness_5")},U=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.darkMode}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{control:r.a.createElement(F.a,{checked:t,onChange:function(t){return function(t){var a=t.target.checked;e(m(a)),localStorage.setItem("dark-mode",a)}(t)},color:"secondary",name:"dark-mode"}),label:"Dark Mode"}),r.a.createElement(G,{dark:t}))},M=a(153),H=function(){var e=r.a.useState(null),t=Object(b.a)(e,2),a=t[0],n=t[1],c=Boolean(a),o={vertical:"top",horizontal:"right"};return r.a.createElement(D.a,null,r.a.createElement(j.a,{title:"experimental",interactive:!0},r.a.createElement(A.a,{control:r.a.createElement(k.a,{variant:"contained",onClick:function(e){n(e.currentTarget)},name:"Set-scale-method"},r.a.createElement(I.a,{color:"secondary"},"speed")),label:"Set scale method"})),r.a.createElement(N.a,{anchorEl:a,anchorOrigin:o,keepMounted:!0,transformOrigin:o,open:c,onClose:function(){n(null)}},r.a.createElement(D.a,null,r.a.createElement(M.a,{component:"label",container:!0,alignItems:"center",spacing:1},r.a.createElement(M.a,{item:!0},"\xb0F"),r.a.createElement(M.a,{item:!0},r.a.createElement(F.a,{checked:!0,onChange:null,name:"scale-switch"})),r.a.createElement(M.a,{item:!0},"\u2103")))))},L=function(e){var t={vertical:"top",horizontal:"right"};return r.a.createElement(N.a,{anchorEl:e.anchorEl,anchorOrigin:t,keepMounted:!0,transformOrigin:t,open:e.open,onClose:e.handleClose},r.a.createElement(D.a,{disabled:!0},"Settings"),r.a.createElement(D.a,null,r.a.createElement(U,null)),r.a.createElement(x,null),r.a.createElement(H,null))},P=Object(O.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),V=function(){var e=P(),t=r.a.useState(null),a=Object(b.a)(t,2),n=a[0],c=a[1],o=Boolean(n);return r.a.createElement("div",{className:e.root},r.a.createElement(S.a,{position:"static"},r.a.createElement(_.a,null,r.a.createElement(T.a,{variant:"h6",className:e.title},"Weather App"),r.a.createElement(j.a,{title:"Go to home page",interactive:!0,arrow:!0},r.a.createElement(C.a,{component:l.b,to:"/",color:"inherit"},"Home")),r.a.createElement(j.a,{title:"Go to your favorites cities",interactive:!0,arrow:!0},r.a.createElement(C.a,{component:l.b,to:"/favorites",color:"inherit"},"Favorites")),r.a.createElement(j.a,{title:"Settings",interactive:!0,arrow:!0},r.a.createElement(k.a,{"aria-label":"settings",color:"inherit",onClick:function(e){c(e.currentTarget)}},r.a.createElement(I.a,null,"settings"))),r.a.createElement(L,{anchorEl:n,open:o,handleClose:function(){c(null)}}))))},Y=a(16),z=a(158),B=a(55),J=a(163),W=a(164),K=a(57),X=a.n(K),q="oHGbDPywIRFQ9bfPL7iDDY8gGeNKQVhp",Q=function(e,t){"http://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat(q);e({type:"FETCH_DATA_PENDING"}),X.a.get("https://my-json-server.typicode.com/YeudaWitman/currentCondition/data").then((function(t){e({type:"FETCH_DATA_SUCCESS",payload:t.data})})).catch((function(t){e({type:"FETCH_DATA_ERROR",payload:t})}))},Z=function(e,t){"http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat(q,"&metric=",!0);e({type:"FIVE_DAYS_DATA_PENDING"}),X.a.get("https://my-json-server.typicode.com/YeudaWitman/fiveDays/DailyForecasts").then((function(t){e({type:"FIVE_DAYS_DATA_SUCCESS",payload:t.data})})).catch((function(t){e({type:"FIVE_DAYS_DATA_ERROR",payload:t})}))},$=function(e){e({type:"FETCH_SUGGESTION_PENDING"}),X.a.get("https://my-json-server.typicode.com/YeudaWitman/autoCompleteMock/data").then((function(t){e({type:"FETCH_SUGGESTION_SUCCESS",payload:t.data})})).catch((function(t){e({type:"FETCH_SUGGESTION_ERROR",payload:t})}))},ee=a(160),te=a(159),ae=a(84),ne=Object(O.a)((function(e){return{paper:{padding:e.spacing(2,0,0,0),margin:e.spacing(0,0),textAlign:"center",background:"#274754"},innerPaper:{margin:e.spacing(2,0),padding:e.spacing(3,0,4,0),textAlign:"center",background:"#2D5362"}}})),re=function(e){var t=e.daily,a=ne(),n=B.unix(t.EpochDate);return r.a.createElement(M.a,{item:!0,xs:12,sm:!0},r.a.createElement(ae.a,{className:a.paper,elevation:3},r.a.createElement(T.a,{variant:"h5",color:"textSecondary"},n.format("dddd")),r.a.createElement(T.a,{variant:"subtitle1",color:"textSecondary"},n.format("DD MMM")),r.a.createElement(ae.a,{className:a.innerPaper,elevation:1},r.a.createElement(T.a,{variant:"h6",color:"secondary"},t.Temperature.Maximum.Value,"\u2103"),r.a.createElement(T.a,{variant:"subtitle1",color:"secondary"},t.Day.IconPhrase))))},ce=function(){return r.a.createElement(z.a,null,r.a.createElement(T.a,{variant:"h3",gutterBottom:!0},"Oops! Something went wrong."),r.a.createElement(T.a,{variant:"h6",gutterBottom:!0},"Try again later or contact us."))},oe=function(e){var t=e.city.key,a=Object(i.c)((function(e){return e.fiveDaysData})),c=a.data,o=Object(i.b)();return Object(n.useEffect)((function(){Z(o,t)}),[o,t]),a.pending?r.a.createElement(te.a,null):a.error?r.a.createElement(ce,null):c.map((function(e,t){return r.a.createElement(re,{key:t,daily:e})}))},ie=function(e){var t=e.title,a=e.city;return r.a.createElement(ee.a,null,r.a.createElement(M.a,{container:!0,justify:"center",alignItems:"center",spacing:1},r.a.createElement(M.a,{container:!0,justify:"center",alignItems:"center",item:!0,xs:12},r.a.createElement(T.a,{variant:"h2",color:"secondary"},t)),r.a.createElement(oe,{city:a})))},le=a(161),ue=a(170),me=a(167),se=function(e){var t=e.city,a=Object(i.b)(),n=Object(i.c)((function(e){return e.favorites.find((function(e){return e.key===t.key}))})),c=Object(i.c)((function(e){return e.toast})),o={add:{color:"inherit",icon:"favorite_border",text:"Add to favorites",handle:v.add},remove:{color:"secondary",icon:"favorite",text:"Remove from favorites",handle:v.remove}}[n?"remove":"add"];return r.a.createElement(me.a,{display:"flex",padding:2},r.a.createElement(j.a,{title:o.text,interactive:!0},r.a.createElement(k.a,{onClick:function(){return o.handle(a,t)},color:o.color},r.a.createElement(I.a,{fontSize:"large",color:o.color},o.icon))),r.a.createElement(w,{handleClose:function(e,t){"clickaway"!==t&&a({type:"CLOSE_TOAST"})},toast:c}))},de=function(e){var t=e.title;return r.a.createElement(me.a,null,r.a.createElement(T.a,{variant:"h5",component:"span"},t.name,","," "),r.a.createElement(T.a,{variant:"subtitle1",component:"span"},t.country))},Ee=[null,"wb_sunny"],pe=Object(O.a)((function(e){return{large:{width:e.spacing(7),height:e.spacing(7),background:e.palette.secondary.dark}}})),fe=function(e){var t=e.data,a=e.city,n=t.Temperature,c=t.WeatherIcon,o=n.Metric.Value,i=pe();return console.log(c),r.a.createElement(le.a,{avatar:r.a.createElement(ue.a,{alt:a.name,src:"",className:i.large},r.a.createElement(I.a,{color:"inherit",fontSize:"large"},Ee[c])),action:r.a.createElement(se,{city:a}),title:r.a.createElement(de,{title:a}),subheader:r.a.createElement(T.a,{variant:"h4",color:"textSecondary"},o," ","\u2103")})},ge=a(162),he=function(e){var t=e.lastUpdate;return r.a.createElement(ge.a,{disableSpacing:!0},r.a.createElement(M.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(M.a,{item:!0,xs:1},r.a.createElement(j.a,{title:"more options",interactive:!0},r.a.createElement(k.a,{"aria-label":"menu"},r.a.createElement(I.a,null,"more_vert")))),r.a.createElement(M.a,{container:!0,item:!0,xs:!0,justify:"center",alignItems:"center"},r.a.createElement(T.a,{variant:"subtitle1",color:"textSecondary"},"Last update: ",t)),r.a.createElement(M.a,{item:!0,xs:1})))},ye=function(e){var t=e.match,a=Object(i.c)((function(e){return e})).currentCity,c=a.data[0],o=a.city,l=Object(i.b)(),u=t.params.key?t.params.key:"215854";return Object(n.useEffect)((function(){var e;Q(l,u),e=o.name,document.title="Wheather in ".concat(e)}),[l,u,o]),a.pending?r.a.createElement(J.a,null):a.error?r.a.createElement(ce,null):r.a.createElement(z.a,null,r.a.createElement(W.a,null,r.a.createElement(fe,{data:c,city:o}),r.a.createElement(ie,{city:o,title:o.WeatherText}),r.a.createElement(he,{lastUpdate:B(c.EpochTime).format("ddd, h:mA")})))},ve=a(38),be=a(12),Oe=Object(O.a)((function(e){return{paper:{padding:e.spacing(3,1,1,1),margin:e.spacing(2,0),height:"100%",textAlign:"center",background:"#274754"},innerPaper:{margin:e.spacing(2,0),padding:e.spacing(3,0,4,0),textAlign:"center",background:"#2D5362"},button:{margin:e.spacing(3,0,0,0),width:"100%"}}})),Se=Object(O.a)((function(e){var t;return{search:Object(ve.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(be.c)(e.palette.primary.main,.1),"&:hover":{backgroundColor:Object(be.c)(e.palette.common.white,.5)},width:"100%",margin:"2ch 0 2ch 0"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputInput:(t={padding:e.spacing(3,1,3,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},Object(ve.a)(t,e.breakpoints.up("sm"),{width:"30ch","&:focus":{width:"40ch"}}),Object(ve.a)(t,"fontSize","1.5em"),t),list:{padding:e.spacing(0,1,3,0),width:"40ch",fontSize:"1.5em",backgroundColor:"#001f2a"}}})),_e=function(e){var t=e.data,a=Oe(),n=Object(i.b)();return r.a.createElement(M.a,{item:!0,xs:12,sm:6,md:3,xl:2},r.a.createElement(ae.a,{className:a.paper,elevation:3},r.a.createElement(T.a,{variant:"h4"},t.name),r.a.createElement(T.a,{variant:"h6"},t.country),r.a.createElement(C.a,{className:a.button,onClick:function(){n(d(t))},variant:"outlined",component:l.b,to:"/".concat(t.key)},"details")))},Te=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.favorites}));return Object(n.useEffect)((function(){!function(){if(localStorage.getItem(h)){var t=JSON.parse(localStorage.getItem(h));e(E(t))}}()}),[e,t]),r.a.createElement(M.a,{container:!0,justify:"center",alignItems:"center",spacing:1},r.a.createElement(M.a,{container:!0,justify:"center",alignItems:"center",item:!0,xs:12},t.length<1?r.a.createElement(me.a,null,r.a.createElement(T.a,{variant:"h3",align:"center"},"No Favorites Cities Yet"),r.a.createElement(T.a,{variant:"h6",align:"center"},"Cities you mark as favorite are shown here")):r.a.createElement(T.a,{variant:"h4",align:"center"},"Your Favorites cities")),t.map((function(e){return r.a.createElement(_e,{key:e.key,data:e})})))},je=function(){return r.a.createElement("div",null,"NotFound!!!")},Ce=a(171),ke=a(151),Ie=a(152),Ne=a(124),De=function(e){var t=e.city,a=e.handleClose,n=t.Country;return r.a.createElement(Ne.a,{button:!0,onClick:function(){return a(t)},component:l.b,to:"/".concat(t.Key)},t.LocalizedName,", ",n.LocalizedName)},Ae=function(e){var t=e.handleClose,a=e.data,n=e.error,c=Se();return console.log(a),r.a.createElement(Ie.a,{className:c.list,component:"nav","aria-label":"suggestions"},n?r.a.createElement(Ne.a,null,r.a.createElement(T.a,{variant:"inherit",color:"error"},"Oops! Something went wrong.")):"",a.length<1?r.a.createElement(Ne.a,null,r.a.createElement(T.a,{variant:"inherit"},"There are no results that match your search.")):a.map((function(e){return r.a.createElement(De,{key:e.Key,handleClose:t,city:e})})))},Re=function(){var e=Se(),t=Object(i.b)(),a=Object(i.c)((function(e){return e.suggestion})),n=a.pending,c=a.suggestions,o=a.error,l=Object(i.c)((function(e){return e.search})).query,u=Object(i.c)((function(e){return e.suggestionMenu.anchorEl})),m=Boolean(u);return r.a.createElement(M.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(I.a,null,"search")),r.a.createElement(Ce.a,{placeholder:"Search city\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){var a=e.target.value;t(f(a)),t({type:"OPEN_SUGGESTION_MENU",payload:e.currentTarget}),a.length<=1?t(g(null)):$(t)},value:l})),r.a.createElement(ke.a,{open:m,anchorEl:u},n?r.a.createElement(J.a,{color:"secondary"}):r.a.createElement(Ae,{handleClose:function(e){var a={key:e.Key,name:e.LocalizedName,country:e.Country.LocalizedName};t(d(a)),t(g(null)),t(f(""))},data:c,error:o})))},we=function(){return r.a.createElement(z.a,{maxWidth:"lg"},r.a.createElement(Re,null),r.a.createElement(Y.c,null,r.a.createElement(Y.a,{exact:!0,path:"/favorites",component:Te}),r.a.createElement(Y.a,{exact:!0,path:"/",component:ye}),r.a.createElement(Y.a,{path:"/:key",component:ye}),r.a.createElement(Y.a,{path:"*",component:je})))},xe=a(165),Fe=a(82),Ge={themeLight:Object(Fe.a)({palette:{type:"light",primary:{light:"#47829A",main:"#3A6B7E",dark:"#2D5362",contrastText:"#fff",mainGradient:"linear-gradient(to right bottom, #430089, #82ffa1)"},secondary:{light:"#ffa07e",main:"#e76f51",dark:"#b04027",contrastText:"#fff"},text:{primary:"#000",secondary:"#999",disabled:"#222",hint:"#000"},background:{default:"#F1F6F9",paper:"#D5E5EC"}},shape:{borderRadius:8},divider:"rgba(0, 0, 0, 0.12)"}),themeDark:Object(Fe.a)({palette:{type:"dark",primary:{light:"#52717f",main:"#264653",dark:"#001f2a",contrastText:"#fff",mainGradient:"linear-gradient(to right bottom, #430089, #82ffa1)"},secondary:{light:"#ffa07e",main:"#e76f51",dark:"#b04027",contrastText:"#000"},text:{primary:"#fff",secondary:"#fff",disabled:"#fff",hint:"#fff"},background:{default:"#060C0E",paper:"#0D181C"}},shape:{borderRadius:8},divider:"rgba(0, 0, 0, 0.12)"})},Ue=function(e){var t=e.children,a=e.dark;return r.a.createElement(xe.a,{children:t,theme:a?Ge.themeDark:Ge.themeLight})},Me=function(){var e=Object(i.c)((function(e){return e.darkMode})),t=Object(i.b)();return Object(n.useEffect)((function(){console.log("ff"),y(t)}),[t,e]),r.a.createElement(l.a,null,r.a.createElement(Ue,{dark:e},r.a.createElement(u.a,null),r.a.createElement(V,null),r.a.createElement(we,null)))},He=a(34),Le=a(13),Pe={city:{key:"215854",name:"Tel Aviv",country:"Israel"},pending:!0,data:[],error:null},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_CITY":return Object(Le.a)(Object(Le.a)({},e),{},{city:t.payload});case"FETCH_DATA_PENDING":return Object(Le.a)(Object(Le.a)({},e),{},{pending:!0});case"FETCH_DATA_SUCCESS":return Object(Le.a)(Object(Le.a)({},e),{},{pending:!1,data:t.payload});case"FETCH_DATA_ERROR":return Object(Le.a)(Object(Le.a)({},e),{},{pending:!1,error:t.payload});default:return e}},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAVORITES":case"REMOVE_FROM_FAVORITES":return t.payload;default:return e}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"DARK_MODE"===t.type?!!t.payload:e},Be={pending:!0,data:{},error:null},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FIVE_DAYS_DATA_PENDING":return Object(Le.a)(Object(Le.a)({},e),{},{pending:!0});case"FIVE_DAYS_DATA_SUCCESS":return Object(Le.a)(Object(Le.a)({},e),{},{pending:!1,data:t.payload});case"FIVE_DAYS_DATA_ERROR":return Object(Le.a)(Object(Le.a)({},e),{},{pending:!1,error:t.payload});default:return e}},We={query:""},Ke={pending:!0,suggestions:[],error:null},Xe={open:!1,anchorEl:null},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return Object(Le.a)(Object(Le.a)({},e),{},{query:t.payload});default:return e}},Qe={open:!1,msg:""},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_TOAST":return{open:!0,msg:t.payload};case"CLOSE_TOAST":return{open:!1,msg:""};default:return e}},$e=Object(He.b)({currentCity:Ve,favorites:Ye,darkMode:ze,fiveDaysData:Je,suggestion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SUGGESTION_PENDING":return Object(Le.a)(Object(Le.a)({},e),{},{pending:!0});case"FETCH_SUGGESTION_SUCCESS":return Object(Le.a)(Object(Le.a)({},e),{},{pending:!1,suggestions:t.payload});case"FETCH_SUGGESTION_ERROR":return Object(Le.a)(Object(Le.a)({},e),{},{pending:!1,error:t.payload});default:return e}},suggestionMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_SUGGESTION_MENU":return{open:!0,anchorEl:t.payload};case"CLOSE_SUGGESTION_MENU":return{open:!1,anchorEl:t.payload};default:return e}},search:qe,toast:Ze}),et=Object(He.c)($e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(r.a.createElement(i.a,{store:et},r.a.createElement(Me,null)),document.getElementById("root"))},92:function(e,t,a){e.exports=a(120)}},[[92,1,2]]]);
//# sourceMappingURL=main.f8db244e.chunk.js.map