(this["webpackJsonpapp-weather"]=this["webpackJsonpapp-weather"]||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=a(11),l=a(25),u=a(166),s=function(e){return{type:"DARK_MODE",payload:e}},m=function(e){return{type:"OPEN_TOAST",payload:e}},d=function(e){return{type:"SET_CURRENT_CITY",payload:e}},p=function(e){return{type:"ADD_TO_FAVORITES",payload:e}},E=function(e){return{type:"REMOVE_FROM_FAVORITES",payload:e}},f=function(e){return{type:"SEARCH",payload:e}},g=function(e){return{type:"CLOSE_SUGGESTION_MENU",payload:e}},h="favorites",y={add:function(e,t){var a=[];localStorage.getItem(h)&&(a=JSON.parse(localStorage.getItem(h))),a.push(t),e(p(a)),localStorage.setItem(h,JSON.stringify(a)),e(m("".concat(t.name," added to favorites")))},remove:function(e,t){var a=[];localStorage.getItem(h)&&(a=JSON.parse(localStorage.getItem(h)));var n=a.map((function(e){return e.key})).indexOf(t.key);n>-1&&a.splice(n,1),e(E(a)),localStorage.setItem(h,JSON.stringify(a)),e(m("".concat(t.name," removed from favorites")))}},v=a(82),b=a(153),O=a(154),S=a(155),_=a(47),T=a(174),j=a(156),C=a(147),k=a(148),I=a(168),N=a(149),D=a(150),A=a(172),R=function(e){var t=e.handleClose,a=e.toast;return r.a.createElement(A.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:a.open,autoHideDuration:4e3,onClose:t,message:a.msg,action:r.a.createElement(C.a,{size:"small","aria-label":"close",color:"inherit",onClick:t},r.a.createElement(k.a,{fontSize:"small"},"close"))})},w=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.toast}));return r.a.createElement(N.a,null,r.a.createElement(D.a,{control:r.a.createElement(C.a,{variant:"contained",onClick:function(){if(localStorage.getItem(h))return localStorage.removeItem(h),e(m("favorites deleted!")),void e(E([]));e(m("There no stored favorites"))},name:"clear-favorites"},r.a.createElement(k.a,{color:"secondary"},"delete")),label:"Clear favorites"}),r.a.createElement(R,{handleClose:function(){return function(e){e({type:"CLOSE_TOAST"})}(e)},toast:t}))},x=a(173),F=function(e){return e.dark?r.a.createElement(k.a,{color:"secondary"},"brightness_3"):r.a.createElement(k.a,{color:"primary"},"brightness_5")},G=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.darkMode}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{control:r.a.createElement(x.a,{checked:t,onChange:function(t){return function(t){var a=t.target.checked;e(s(a)),localStorage.setItem("dark-mode",a)}(t)},color:"secondary",name:"dark-mode"}),label:"Dark Mode"}),r.a.createElement(F,{dark:t}))},U=function(){return r.a.createElement(N.a,null,r.a.createElement(T.a,{title:"experimental",interactive:!0},r.a.createElement(D.a,{control:r.a.createElement(C.a,{variant:"contained",name:"Set-scale-method"},r.a.createElement(k.a,{color:"secondary"},"speed")),label:"Set scale method"})))},M=function(e){var t={vertical:"top",horizontal:"right"};return r.a.createElement(I.a,{anchorEl:e.anchorEl,anchorOrigin:t,keepMounted:!0,transformOrigin:t,open:e.open,onClose:e.handleClose},r.a.createElement(N.a,{disabled:!0},"Settings"),r.a.createElement(N.a,null,r.a.createElement(G,null)),r.a.createElement(w,null),r.a.createElement(U,null))},H=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),L=function(){var e=H(),t=r.a.useState(null),a=Object(v.a)(t,2),n=a[0],c=a[1],o=Boolean(n);return r.a.createElement("div",{className:e.root},r.a.createElement(O.a,{position:"static"},r.a.createElement(S.a,null,r.a.createElement(_.a,{variant:"h6",className:e.title},"Weather App"),r.a.createElement(T.a,{title:"Go to home page",interactive:!0,arrow:!0},r.a.createElement(j.a,{component:l.b,to:"/",color:"inherit"},"Home")),r.a.createElement(T.a,{title:"Go to your favorites cities",interactive:!0,arrow:!0},r.a.createElement(j.a,{component:l.b,to:"/favorites",color:"inherit"},"Favorites")),r.a.createElement(T.a,{title:"Settings",interactive:!0,arrow:!0},r.a.createElement(C.a,{"aria-label":"settings",color:"inherit",onClick:function(e){c(e.currentTarget)}},r.a.createElement(k.a,null,"settings"))),r.a.createElement(M,{anchorEl:n,open:o,handleClose:function(){c(null)}}))))},P=a(16),V=a(158),Y=a(56),z=a(163),J=a(164),B=a(46),W=a.n(B),K="oHGbDPywIRFQ9bfPL7iDDY8gGeNKQVhp",X=function(e,t){"http://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat(K);e({type:"FETCH_DATA_PENDING"}),W.a.get("https://my-json-server.typicode.com/YeudaWitman/currentCondition/data").then((function(t){e({type:"FETCH_DATA_SUCCESS",payload:t.data})})).catch((function(t){e({type:"FETCH_DATA_ERROR",payload:t})}))},q=function(e,t){"http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat(K,"&metric=",!0);e({type:"FIVE_DAYS_DATA_PENDING"}),W.a.get("https://my-json-server.typicode.com/YeudaWitman/fiveDays/DailyForecasts").then((function(t){e({type:"FIVE_DAYS_DATA_SUCCESS",payload:t.data})})).catch((function(t){e({type:"FIVE_DAYS_DATA_ERROR",payload:t})}))},Q=function(e){e({type:"FETCH_SUGGESTION_PENDING"}),W.a.get("https://my-json-server.typicode.com/YeudaWitman/autoCompleteMock/data").then((function(t){e({type:"FETCH_SUGGESTION_SUCCESS",payload:t.data})})).catch((function(t){e({type:"FETCH_SUGGESTION_ERROR",payload:t})}))},Z=a(160),$=a(157),ee=a(159),te=a(84),ae=Object(b.a)((function(e){return{paper:{padding:e.spacing(2,0,0,0),margin:e.spacing(0,0),textAlign:"center",background:"#274754"},innerPaper:{margin:e.spacing(2,0),padding:e.spacing(3,0,4,0),textAlign:"center",background:"#2D5362"}}})),ne=function(e){var t=e.daily,a=ae(),n=Y.unix(t.EpochDate);return r.a.createElement($.a,{item:!0,xs:12,sm:!0},r.a.createElement(te.a,{className:a.paper,elevation:3},r.a.createElement(_.a,{variant:"h5",color:"textSecondary"},n.format("dddd")),r.a.createElement(_.a,{variant:"subtitle1",color:"textSecondary"},n.format("DD MMM")),r.a.createElement(te.a,{className:a.innerPaper,elevation:1},r.a.createElement(_.a,{variant:"h6",color:"secondary"},t.Temperature.Maximum.Value,"\u2103"),r.a.createElement(_.a,{variant:"subtitle1",color:"secondary"},t.Day.IconPhrase))))},re=function(){return r.a.createElement(V.a,null,r.a.createElement(_.a,{variant:"h3",gutterBottom:!0},"Oops! Something went wrong."),r.a.createElement(_.a,{variant:"h6",gutterBottom:!0},"Try again later or contact us."))},ce=function(e){var t=e.city.key,a=Object(i.c)((function(e){return e.fiveDaysData})),c=a.data,o=Object(i.b)();return Object(n.useEffect)((function(){q(o,t)}),[o,t]),a.pending?r.a.createElement(ee.a,null):a.error?r.a.createElement(re,null):c.map((function(e,t){return r.a.createElement(ne,{key:t,daily:e})}))},oe=function(e){var t=e.title,a=e.city;return r.a.createElement(Z.a,null,r.a.createElement($.a,{container:!0,justify:"center",alignItems:"center",spacing:1},r.a.createElement($.a,{container:!0,justify:"center",alignItems:"center",item:!0,xs:12},r.a.createElement(_.a,{variant:"h2",color:"secondary"},t)),r.a.createElement(ce,{city:a})))},ie=a(161),le=a(170),ue=a(167),se=function(e){var t=e.city,a=Object(i.b)(),n=Object(i.c)((function(e){return e.favorites.find((function(e){return e.key===t.key}))})),c=Object(i.c)((function(e){return e.toast})),o={add:{color:"inherit",icon:"favorite_border",text:"Add to favorites",handle:y.add},remove:{color:"secondary",icon:"favorite",text:"Remove from favorites",handle:y.remove}}[n?"remove":"add"];return r.a.createElement(ue.a,{display:"flex",padding:2},r.a.createElement(T.a,{title:o.text,interactive:!0},r.a.createElement(C.a,{onClick:function(){return o.handle(a,t)},color:o.color},r.a.createElement(k.a,{fontSize:"large",color:o.color},o.icon))),r.a.createElement(R,{handleClose:function(e,t){"clickaway"!==t&&a({type:"CLOSE_TOAST"})},toast:c}))},me=function(e){var t=e.title;return r.a.createElement(ue.a,null,r.a.createElement(_.a,{variant:"h5",component:"span"},t.name,","," "),r.a.createElement(_.a,{variant:"subtitle1",component:"span"},t.country))},de=Object(b.a)((function(e){return{large:{width:e.spacing(7),height:e.spacing(7),background:e.palette.secondary.dark}}})),pe=function(e){var t=e.data,a=e.city,n=t.Temperature.Metric.Value,c=de();return r.a.createElement(ie.a,{avatar:r.a.createElement(le.a,{alt:a.name,src:"",className:c.large},r.a.createElement(k.a,{color:"inherit",fontSize:"large"},"wb_sunny")),action:r.a.createElement(se,{city:a}),title:r.a.createElement(me,{title:a}),subheader:r.a.createElement(_.a,{variant:"h4",color:"textSecondary"},n," ","\u2103")})},Ee=a(162),fe=function(e){var t=e.lastUpdate;return r.a.createElement(Ee.a,{disableSpacing:!0},r.a.createElement($.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement($.a,{item:!0,xs:1},r.a.createElement(T.a,{title:"more options",interactive:!0},r.a.createElement(C.a,{"aria-label":"menu"},r.a.createElement(k.a,null,"more_vert")))),r.a.createElement($.a,{container:!0,item:!0,xs:!0,justify:"center",alignItems:"center"},r.a.createElement(_.a,{variant:"subtitle1",color:"textSecondary"},"Last update: ",t)),r.a.createElement($.a,{item:!0,xs:1})))},ge=function(e){var t=e.match,a=Object(i.c)((function(e){return e})).currentCity,c=a.data[0],o=a.city,l=Object(i.b)(),u=t.params.key?t.params.key:"215854";return Object(n.useEffect)((function(){X(l,u)}),[l,u]),a.pending?r.a.createElement(z.a,null):a.error?r.a.createElement(re,null):r.a.createElement(V.a,null,r.a.createElement(J.a,null,r.a.createElement(pe,{data:c,city:o}),r.a.createElement(oe,{city:o,title:o.WeatherText}),r.a.createElement(fe,{lastUpdate:Y(c.EpochTime).format("ddd, h:mA")})))},he=a(38),ye=a(12),ve=Object(b.a)((function(e){return{paper:{padding:e.spacing(3,1,1,1),margin:e.spacing(2,0),height:"100%",textAlign:"center",background:"#274754"},innerPaper:{margin:e.spacing(2,0),padding:e.spacing(3,0,4,0),textAlign:"center",background:"#2D5362"},button:{margin:e.spacing(3,0,0,0),width:"100%"}}})),be=Object(b.a)((function(e){var t;return{search:Object(he.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ye.c)(e.palette.primary.main,.1),"&:hover":{backgroundColor:Object(ye.c)(e.palette.common.white,.5)},width:"100%",margin:"2ch 0 2ch 0"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:(t={padding:e.spacing(3,1,3,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},Object(he.a)(t,e.breakpoints.up("sm"),{width:"30ch","&:focus":{width:"40ch"}}),Object(he.a)(t,"fontSize","1.5em"),t),list:{padding:e.spacing(0,1,3,0),width:"40ch",fontSize:"1.5em",backgroundColor:"#001f2a"}}})),Oe=function(e){var t=e.data,a=ve(),n=Object(i.b)();return r.a.createElement($.a,{item:!0,xs:12,sm:6,md:3,xl:2},r.a.createElement(te.a,{className:a.paper,elevation:3},r.a.createElement(_.a,{variant:"h4"},t.name),r.a.createElement(_.a,{variant:"h6"},t.country),r.a.createElement(j.a,{className:a.button,onClick:function(){n(d(t))},variant:"outlined",component:l.b,to:"/".concat(t.key)},"details")))},Se=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.favorites}));return Object(n.useEffect)((function(){!function(){if(localStorage.getItem(h)){var t=JSON.parse(localStorage.getItem(h));e(p(t))}}()}),[e]),r.a.createElement($.a,{container:!0,justify:"center",alignItems:"center",spacing:1},r.a.createElement($.a,{container:!0,justify:"center",alignItems:"center",item:!0,xs:12},t.length<1?r.a.createElement(ue.a,null,r.a.createElement(_.a,{variant:"h3",align:"center"},"No Favorites Cities Yet"),r.a.createElement(_.a,{variant:"h6",align:"center"},"Cities you mark as favorite are shown here")):r.a.createElement(_.a,{variant:"h4",align:"center"},"Your Favorites cities")),t.map((function(e){return r.a.createElement(Oe,{key:e.key,data:e})})))},_e=function(){return r.a.createElement("div",null,"NotFound!!!")},Te=a(171),je=a(151),Ce=a(152),ke=a(124),Ie=function(e){var t=e.city,a=e.handleClose,n=t.Country;return r.a.createElement(ke.a,{button:!0,onClick:function(){return a(t)},component:l.b,to:"/".concat(t.Key)},t.LocalizedName,", ",n.LocalizedName)},Ne=function(e){var t=e.handleClose,a=e.data,n=e.error,c=be();return console.log(a),r.a.createElement(Ce.a,{className:c.list,component:"nav","aria-label":"suggestions"},n?r.a.createElement(ke.a,null,r.a.createElement(_.a,{variant:"inherit",color:"error"},"Oops! Something went wrong.")):"",a.length<1?r.a.createElement(ke.a,null,r.a.createElement(_.a,{variant:"inherit"},"There are no results that match your search.")):a.map((function(e){return r.a.createElement(Ie,{key:e.Key,handleClose:t,city:e})})))},De=function(){var e=be(),t=Object(i.b)(),a=Object(i.c)((function(e){return e.suggestion})),n=a.pending,c=a.suggestions,o=a.error,l=Object(i.c)((function(e){return e.search})).query,u=Object(i.c)((function(e){return e.suggestionMenu.anchorEl})),s=Boolean(u);return r.a.createElement($.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(k.a,null,"search")),r.a.createElement(Te.a,{placeholder:"Search city\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){var a=e.target.value;t(f(a)),t({type:"OPEN_SUGGESTION_MENU",payload:e.currentTarget}),a.length<=1?t(g(null)):Q(t)},value:l})),r.a.createElement(je.a,{open:s,anchorEl:u},n?r.a.createElement(z.a,{color:"secondary"}):r.a.createElement(Ne,{handleClose:function(e){var a={key:e.Key,name:e.LocalizedName,country:e.Country.LocalizedName};t(d(a)),t(g(null)),t(f(""))},data:c,error:o})))},Ae=function(){return r.a.createElement(V.a,{maxWidth:"lg"},r.a.createElement(De,null),r.a.createElement(P.c,null,r.a.createElement(P.a,{exact:!0,path:"/favorites",component:Se}),r.a.createElement(P.a,{exact:!0,path:"/",component:ge}),r.a.createElement(P.a,{path:"/:key",component:ge}),r.a.createElement(P.a,{path:"*",component:_e})))},Re=a(165),we=a(81),xe={themeLight:Object(we.a)({palette:{type:"light",primary:{light:"#47829A",main:"#3A6B7E",dark:"#2D5362",contrastText:"#fff",mainGradient:"linear-gradient(to right bottom, #430089, #82ffa1)"},secondary:{light:"#ffa07e",main:"#e76f51",dark:"#b04027",contrastText:"#fff"},text:{primary:"#000",secondary:"#999",disabled:"#222",hint:"#000"},background:{default:"#F1F6F9",paper:"#D5E5EC"}},shape:{borderRadius:8},divider:"rgba(0, 0, 0, 0.12)"}),themeDark:Object(we.a)({palette:{type:"dark",primary:{light:"#52717f",main:"#264653",dark:"#001f2a",contrastText:"#fff",mainGradient:"linear-gradient(to right bottom, #430089, #82ffa1)"},secondary:{light:"#ffa07e",main:"#e76f51",dark:"#b04027",contrastText:"#000"},text:{primary:"#fff",secondary:"#fff",disabled:"#fff",hint:"#fff"},background:{default:"#060C0E",paper:"#0D181C"}},shape:{borderRadius:8},divider:"rgba(0, 0, 0, 0.12)"})},Fe=function(e){var t=e.children,a=e.dark;return r.a.createElement(Re.a,{children:t,theme:a?xe.themeDark:xe.themeLight})},Ge=function(){var e=Object(i.c)((function(e){return e.darkMode})),t=Object(i.b)();return Object(n.useEffect)((function(){!function(e){if(localStorage.getItem("dark-mode")){var t=JSON.parse(localStorage.getItem("dark-mode"));e(s(t))}if(localStorage.getItem(h)){var a=JSON.parse(localStorage.getItem(h));e(p(a))}}(t)}),[e,t]),r.a.createElement(l.a,null,r.a.createElement(Fe,{dark:e},r.a.createElement(u.a,null),r.a.createElement(L,null),r.a.createElement(Ae,null)))},Ue=a(34),Me=a(13),He={city:{key:"215854",name:"Tel Aviv",country:"Israel"},pending:!0,data:[],error:null},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_CITY":return Object(Me.a)(Object(Me.a)({},e),{},{city:t.payload});case"FETCH_DATA_PENDING":return Object(Me.a)(Object(Me.a)({},e),{},{pending:!0});case"FETCH_DATA_SUCCESS":return Object(Me.a)(Object(Me.a)({},e),{},{pending:!1,data:t.payload});case"FETCH_DATA_ERROR":return Object(Me.a)(Object(Me.a)({},e),{},{pending:!1,error:t.payload});default:return e}},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAVORITES":case"REMOVE_FROM_FAVORITES":return t.payload;default:return e}},Ve=function(){var e=arguments.length>1?arguments[1]:void 0;return!!e.payload},Ye={pending:!0,data:{},error:null},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FIVE_DAYS_DATA_PENDING":return Object(Me.a)(Object(Me.a)({},e),{},{pending:!0});case"FIVE_DAYS_DATA_SUCCESS":return Object(Me.a)(Object(Me.a)({},e),{},{pending:!1,data:t.payload});case"FIVE_DAYS_DATA_ERROR":return Object(Me.a)(Object(Me.a)({},e),{},{pending:!1,error:t.payload});default:return e}},Je={query:""},Be={pending:!0,suggestions:[],error:null},We={open:!1,anchorEl:null},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return Object(Me.a)(Object(Me.a)({},e),{},{query:t.payload});default:return e}},Xe={open:!1,msg:""},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_TOAST":return{open:!0,msg:t.payload};case"CLOSE_TOAST":return{open:!1,msg:""};default:return e}},Qe=Object(Ue.b)({currentCity:Le,favorites:Pe,darkMode:Ve,fiveDaysData:ze,suggestion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SUGGESTION_PENDING":return Object(Me.a)(Object(Me.a)({},e),{},{pending:!0});case"FETCH_SUGGESTION_SUCCESS":return Object(Me.a)(Object(Me.a)({},e),{},{pending:!1,suggestions:t.payload});case"FETCH_SUGGESTION_ERROR":return Object(Me.a)(Object(Me.a)({},e),{},{pending:!1,error:t.payload});default:return e}},suggestionMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_SUGGESTION_MENU":return{open:!0,anchorEl:t.payload};case"CLOSE_SUGGESTION_MENU":return{open:!1,anchorEl:t.payload};default:return e}},search:Ke,toast:qe}),Ze=Object(Ue.c)(Qe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(r.a.createElement(i.a,{store:Ze},r.a.createElement(Ge,null)),document.getElementById("root"))},92:function(e,t,a){e.exports=a(120)}},[[92,1,2]]]);
//# sourceMappingURL=main.4f9a08e9.chunk.js.map