(this["webpackJsonpapp-weather"]=this["webpackJsonpapp-weather"]||[]).push([[0],{122:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=a(11),l=a(26),u=a(171),s=function(e){return{type:"DARK_MODE",payload:e}},m=function(e){return{type:"OPEN_TOAST",payload:e}},d=function(e){return{type:"SET_CURRENT_CITY",payload:e}},E=function(e){return{type:"ADD_TO_FAVORITES",payload:e}},p=function(e){return{type:"REMOVE_FROM_FAVORITES",payload:e}},f=function(e){return{type:"SEARCH",payload:e}},g=function(e){return{type:"CLOSE_SUGGESTION_MENU",payload:e}},h=function(e){if(localStorage.getItem("dark-mode")){var t=JSON.parse(localStorage.getItem("dark-mode"));e(s(t))}},y=function(e){if(localStorage.getItem("favorites")){var t=JSON.parse(localStorage.getItem("favorites"));e(E(t))}},v={add:function(e,t){var a=[];localStorage.getItem("favorites")&&(a=JSON.parse(localStorage.getItem("favorites"))),a.push(t),e(E(a)),localStorage.setItem("favorites",JSON.stringify(a)),e(m("".concat(t.name," added to favorites")))},remove:function(e,t){var a=[];localStorage.getItem("favorites")&&(a=JSON.parse(localStorage.getItem("favorites")));var n=a.map((function(e){return e.key})).indexOf(t.key);n>-1&&a.splice(n,1),e(p(a)),localStorage.setItem("favorites",JSON.stringify(a)),e(m("".concat(t.name," removed from favorites")))}},b=a(57),O=a(159),S=a(160),_=a(161),C=a(47),T=a(178),j=a(162),k=a(151),I=a(152),N=a(173),D=a(153),A=a(158),R=a(154),w=a(176),x=function(e){var t=e.handleClose,a=e.toast;return r.a.createElement(w.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:a.open,autoHideDuration:4e3,onClose:t,message:a.msg,action:r.a.createElement(k.a,{size:"small","aria-label":"close",color:"inherit",onClick:t},r.a.createElement(I.a,{fontSize:"small"},"close"))})},F=function(e){var t=e.handleClose,a=Object(i.b)(),n=Object(i.c)((function(e){return e.toast}));return r.a.createElement(D.a,null,r.a.createElement(R.a,{control:r.a.createElement(k.a,{variant:"contained",onClick:function(){if(localStorage.getItem("favorites"))return localStorage.removeItem("favorites"),a(m("favorites deleted!")),void a(p([]));t(),a(m("There no stored favorites"))},name:"clear-favorites"},r.a.createElement(I.a,{color:"secondary"},"delete")),label:"Clear favorites"}),r.a.createElement(x,{handleClose:function(){return function(e){e({type:"CLOSE_TOAST"})}(a)},toast:n}))},G=a(177),U=function(e){return e.dark?r.a.createElement(I.a,{color:"secondary"},"brightness_3"):r.a.createElement(I.a,{color:"primary"},"brightness_5")},M=function(e){var t=e.handleClose,a=Object(i.b)(),n=Object(i.c)((function(e){return e.darkMode}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{control:r.a.createElement(G.a,{checked:n,onChange:function(e){return function(e){var n=e.target.checked;a(s(n)),localStorage.setItem("dark-mode",n),t()}(e)},color:"secondary",name:"dark-mode"}),label:"Dark Mode"}),r.a.createElement(U,{dark:n}))},H=function(e){return r.a.createElement(D.a,null,r.a.createElement(R.a,{control:r.a.createElement(k.a,{variant:"contained",onClick:function(t){e.handleClick()},name:"Set-scale-method"},r.a.createElement(I.a,{color:"secondary"},"speed")),label:"Set scale method"}))},L=a(156),P=function(e){return r.a.createElement(D.a,null,r.a.createElement(T.a,{title:"experimental",interactive:!0},r.a.createElement(L.a,{component:"label",container:!0,alignItems:"center",spacing:1},r.a.createElement(L.a,{item:!0},"\xb0F"),r.a.createElement(L.a,{item:!0},r.a.createElement(G.a,{checked:!0,onChange:function(t){e.handleClose()},name:"scale-switch"})),r.a.createElement(L.a,{item:!0},"\u2103"))))},V=function(e){var t={vertical:"top",horizontal:"right"},a=r.a.useState(!1),n=Object(b.a)(a,2),c=n[0],o=n[1];return r.a.createElement(N.a,{anchorEl:e.anchorEl,anchorOrigin:t,keepMounted:!0,transformOrigin:t,open:e.open,onClose:e.handleClose},r.a.createElement(D.a,{disabled:!0},"Settings"),r.a.createElement(D.a,null,r.a.createElement(M,{handleClose:e.handleClose})),r.a.createElement(F,{handleClose:e.handleClose}),r.a.createElement(H,{handleClick:function(){o(!c)},handleClose:e.handleClose}),r.a.createElement(A.a,{in:c,timeout:"auto",unmountOnExit:!0},r.a.createElement(P,{handleClose:e.handleClose})))},Y=Object(O.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),z=function(){var e=Y(),t=r.a.useState(null),a=Object(b.a)(t,2),n=a[0],c=a[1],o=Boolean(n);return r.a.createElement("div",{className:e.root},r.a.createElement(S.a,{position:"static"},r.a.createElement(_.a,null,r.a.createElement(C.a,{variant:"h6",className:e.title},"Weather App"),r.a.createElement(T.a,{title:"Go to home page",interactive:!0,arrow:!0},r.a.createElement(j.a,{component:l.b,to:"/",color:"inherit"},"Home")),r.a.createElement(T.a,{title:"Go to your favorites cities",interactive:!0,arrow:!0},r.a.createElement(j.a,{component:l.b,to:"/favorites",color:"inherit"},"Favorites")),r.a.createElement(T.a,{title:"Settings",interactive:!0,arrow:!0},r.a.createElement(k.a,{"aria-label":"settings",color:"inherit",onClick:function(e){c(e.currentTarget)}},r.a.createElement(I.a,null,"settings"))),r.a.createElement(V,{anchorEl:n,open:o,handleClose:function(){c(null)}}))))},J=a(16),W=a(163),B=a(56),K=a(168),X=a(169),q=a(58),Q=a.n(q),Z="oHGbDPywIRFQ9bfPL7iDDY8gGeNKQVhp",$=function(e,t){"http://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat(Z);e({type:"FETCH_DATA_PENDING"}),Q.a.get("https://my-json-server.typicode.com/YeudaWitman/currentCondition/data").then((function(t){e({type:"FETCH_DATA_SUCCESS",payload:t.data})})).catch((function(t){e({type:"FETCH_DATA_ERROR",payload:t})}))},ee=function(e,t){"http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat(Z,"&metric=",!0);e({type:"FIVE_DAYS_DATA_PENDING"}),Q.a.get("https://my-json-server.typicode.com/YeudaWitman/fiveDays/DailyForecasts").then((function(t){e({type:"FIVE_DAYS_DATA_SUCCESS",payload:t.data})})).catch((function(t){e({type:"FIVE_DAYS_DATA_ERROR",payload:t})}))},te=function(e){e({type:"FETCH_SUGGESTION_PENDING"}),Q.a.get("https://my-json-server.typicode.com/YeudaWitman/autoCompleteMock/data").then((function(t){e({type:"FETCH_SUGGESTION_SUCCESS",payload:t.data})})).catch((function(t){e({type:"FETCH_SUGGESTION_ERROR",payload:t})}))},ae=a(165),ne=a(164),re=a(86),ce=Object(O.a)((function(e){return{paper:{padding:e.spacing(2,0,0,0),margin:e.spacing(0,0),textAlign:"center",background:"#274754"},innerPaper:{margin:e.spacing(2,0),padding:e.spacing(3,0,4,0),textAlign:"center",background:"#2D5362"}}})),oe=function(e){var t=e.daily,a=ce(),n=B.unix(t.EpochDate);return r.a.createElement(L.a,{item:!0,xs:12,sm:!0},r.a.createElement(re.a,{className:a.paper,elevation:3},r.a.createElement(C.a,{variant:"h5",color:"textSecondary"},n.format("dddd")),r.a.createElement(C.a,{variant:"subtitle1",color:"textSecondary"},n.format("DD MMM")),r.a.createElement(re.a,{className:a.innerPaper,elevation:1},r.a.createElement(C.a,{variant:"h6",color:"secondary"},t.Temperature.Maximum.Value,"\u2103"),r.a.createElement(C.a,{variant:"subtitle1",color:"secondary"},t.Day.IconPhrase))))},ie=function(){return r.a.createElement(W.a,null,r.a.createElement(C.a,{variant:"h3",gutterBottom:!0},"Oops! Something went wrong."),r.a.createElement(C.a,{variant:"h6",gutterBottom:!0},"Try again later or contact us."))},le=function(e){var t=e.city.key,a=Object(i.c)((function(e){return e.fiveDaysData})),c=a.data,o=Object(i.b)();return Object(n.useEffect)((function(){ee(o,t)}),[o,t]),a.pending?r.a.createElement(ne.a,null):a.error?r.a.createElement(ie,null):c.map((function(e,t){return r.a.createElement(oe,{key:t,daily:e})}))},ue=function(e){var t=e.title,a=e.city;return r.a.createElement(ae.a,null,r.a.createElement(L.a,{container:!0,justify:"center",alignItems:"center",spacing:1},r.a.createElement(L.a,{container:!0,justify:"center",alignItems:"center",item:!0,xs:12},r.a.createElement(C.a,{variant:"h2",color:"secondary"},t)),r.a.createElement(le,{city:a})))},se=a(166),me=a(174),de=a(172),Ee=function(e){var t=e.city,a=Object(i.b)(),n=Object(i.c)((function(e){return e.favorites.find((function(e){return e.key===t.key}))})),c=Object(i.c)((function(e){return e.toast})),o={add:{color:"inherit",icon:"favorite_border",text:"Add to favorites",handle:v.add},remove:{color:"secondary",icon:"favorite",text:"Remove from favorites",handle:v.remove}}[n?"remove":"add"];return r.a.createElement(de.a,{display:"flex",padding:2},r.a.createElement(T.a,{title:o.text,interactive:!0},r.a.createElement(k.a,{onClick:function(){return o.handle(a,t)},color:o.color},r.a.createElement(I.a,{fontSize:"large",color:o.color},o.icon))),r.a.createElement(x,{handleClose:function(e,t){"clickaway"!==t&&a({type:"CLOSE_TOAST"})},toast:c}))},pe=function(e){var t=e.title;return r.a.createElement(de.a,null,r.a.createElement(C.a,{variant:"h5",component:"span"},t.name,","," "),r.a.createElement(C.a,{variant:"subtitle1",component:"span"},t.country))},fe=[null,"wb_sunny"],ge=Object(O.a)((function(e){return{large:{width:e.spacing(7),height:e.spacing(7),background:e.palette.secondary.dark}}})),he=function(e){var t=e.data,a=e.city,n=t.Temperature,c=t.WeatherIcon,o=n.Metric.Value,i=ge();return r.a.createElement(se.a,{avatar:r.a.createElement(me.a,{alt:a.name,src:"",className:i.large},r.a.createElement(I.a,{color:"inherit",fontSize:"large"},fe[c])),action:r.a.createElement(Ee,{city:a}),title:r.a.createElement(pe,{title:a}),subheader:r.a.createElement(C.a,{variant:"h4",color:"textSecondary"},o," ","\u2103")})},ye=a(167),ve=function(e){var t=e.lastUpdate;return r.a.createElement(ye.a,{disableSpacing:!0},r.a.createElement(L.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(L.a,{item:!0,xs:1},r.a.createElement(T.a,{title:"more options",interactive:!0},r.a.createElement(k.a,{"aria-label":"menu"},r.a.createElement(I.a,null,"more_vert")))),r.a.createElement(L.a,{container:!0,item:!0,xs:!0,justify:"center",alignItems:"center"},r.a.createElement(C.a,{variant:"subtitle1",color:"textSecondary"},"Last update: ",t)),r.a.createElement(L.a,{item:!0,xs:1})))},be=function(e){var t=e.match,a=Object(i.c)((function(e){return e})).currentCity,c=a.data[0],o=a.city,l=Object(i.b)(),u=t.params.key?t.params.key:"215854";return Object(n.useEffect)((function(){var e;$(l,u),e=o.name,document.title="Wheather in ".concat(e)}),[l,u,o]),a.pending?r.a.createElement(K.a,null):a.error?r.a.createElement(ie,null):r.a.createElement(W.a,null,r.a.createElement(X.a,null,r.a.createElement(he,{data:c,city:o}),r.a.createElement(ue,{city:o,title:o.WeatherText}),r.a.createElement(ve,{lastUpdate:B(c.EpochTime).format("ddd, h:mA")})))},Oe=a(40),Se=a(12),_e=Object(O.a)((function(e){return{paper:{padding:e.spacing(3,1,1,1),margin:e.spacing(2,0),height:"100%",textAlign:"center",background:"#274754"},innerPaper:{margin:e.spacing(2,0),padding:e.spacing(3,0,4,0),textAlign:"center",background:"#2D5362"},button:{margin:e.spacing(3,0,0,0),width:"100%"}}})),Ce=Object(O.a)((function(e){var t;return{search:Object(Oe.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Se.c)(e.palette.primary.main,.1),"&:hover":{backgroundColor:Object(Se.c)(e.palette.common.white,.5)},width:"100%",margin:"2ch 0 2ch 0"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputInput:(t={padding:e.spacing(3,1,3,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},Object(Oe.a)(t,e.breakpoints.up("sm"),{width:"30ch","&:focus":{width:"40ch"}}),Object(Oe.a)(t,"fontSize","1.5em"),t),list:{padding:e.spacing(0,1,3,0),width:"40ch",fontSize:"1.5em",backgroundColor:"#001f2a"}}})),Te=function(e){var t=e.data,a=_e(),n=Object(i.b)();return r.a.createElement(L.a,{item:!0,xs:12,sm:6,md:3,xl:2},r.a.createElement(re.a,{className:a.paper,elevation:3},r.a.createElement(C.a,{variant:"h4"},t.name),r.a.createElement(C.a,{variant:"h6"},t.country),r.a.createElement(j.a,{className:a.button,onClick:function(){n(d(t))},variant:"outlined",component:l.b,to:"/".concat(t.key)},"details")))},je=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.favorites}));return Object(n.useEffect)((function(){y(e)}),[e]),r.a.createElement(L.a,{container:!0,justify:"center",alignItems:"center",spacing:1},r.a.createElement(L.a,{container:!0,justify:"center",alignItems:"center",item:!0,xs:12},t.length<1?r.a.createElement(de.a,null,r.a.createElement(C.a,{variant:"h3",align:"center"},"No Favorites Cities Yet"),r.a.createElement(C.a,{variant:"h6",align:"center"},"Cities you mark as favorite are shown here")):r.a.createElement(C.a,{variant:"h4",align:"center"},"Your Favorites cities")),t.map((function(e){return r.a.createElement(Te,{key:e.key,data:e})})))},ke=function(){return r.a.createElement("div",null,"NotFound!!!")},Ie=a(175),Ne=a(155),De=a(157),Ae=a(126),Re=function(e){var t=e.city,a=e.handleClose,n=t.Country;return r.a.createElement(Ae.a,{button:!0,onClick:function(){return a(t)},component:l.b,to:"/".concat(t.Key)},t.LocalizedName,", ",n.LocalizedName)},we=function(e){var t=e.handleClose,a=e.data,n=e.error,c=Ce();return r.a.createElement(De.a,{className:c.list,component:"nav","aria-label":"suggestions"},n?r.a.createElement(Ae.a,null,r.a.createElement(C.a,{variant:"inherit",color:"error"},"Oops! Something went wrong.")):"",a.length<1?r.a.createElement(Ae.a,null,r.a.createElement(C.a,{variant:"inherit"},"There are no results that match your search.")):a.map((function(e){return r.a.createElement(Re,{key:e.Key,handleClose:t,city:e})})))},xe=function(){var e=Ce(),t=Object(i.b)(),a=Object(i.c)((function(e){return e.suggestion})),n=a.pending,c=a.suggestions,o=a.error,l=Object(i.c)((function(e){return e.search})).query,u=Object(i.c)((function(e){return e.suggestionMenu.anchorEl})),s=Boolean(u);return r.a.createElement(L.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(I.a,null,"search")),r.a.createElement(Ie.a,{placeholder:"Search city\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){var a=e.target.value;t(f(a)),t({type:"OPEN_SUGGESTION_MENU",payload:e.currentTarget}),a.length<=1?t(g(null)):te(t)},value:l})),r.a.createElement(Ne.a,{open:s,anchorEl:u},n?r.a.createElement(K.a,{color:"secondary"}):r.a.createElement(we,{handleClose:function(e){var a={key:e.Key,name:e.LocalizedName,country:e.Country.LocalizedName};t(d(a)),t(g(null)),t(f(""))},data:c,error:o})))},Fe=function(){return r.a.createElement(W.a,{maxWidth:"lg"},r.a.createElement(xe,null),r.a.createElement(J.c,null,r.a.createElement(J.a,{exact:!0,path:"/favorites",component:je}),r.a.createElement(J.a,{exact:!0,path:"/",component:be}),r.a.createElement(J.a,{path:"/:key",component:be}),r.a.createElement(J.a,{path:"*",component:ke})))},Ge=a(170),Ue=a(84),Me={themeLight:Object(Ue.a)({palette:{type:"light",primary:{light:"#47829A",main:"#3A6B7E",dark:"#2D5362",contrastText:"#fff",mainGradient:"linear-gradient(to right bottom, #430089, #82ffa1)"},secondary:{light:"#ffa07e",main:"#e76f51",dark:"#b04027",contrastText:"#fff"},text:{primary:"#000",secondary:"#999",disabled:"#222",hint:"#000"},background:{default:"#F1F6F9",paper:"#D5E5EC"}},shape:{borderRadius:8},divider:"rgba(0, 0, 0, 0.12)"}),themeDark:Object(Ue.a)({palette:{type:"dark",primary:{light:"#52717f",main:"#264653",dark:"#001f2a",contrastText:"#fff",mainGradient:"linear-gradient(to right bottom, #430089, #82ffa1)"},secondary:{light:"#ffa07e",main:"#e76f51",dark:"#b04027",contrastText:"#000"},text:{primary:"#fff",secondary:"#fff",disabled:"#fff",hint:"#fff"},background:{default:"#060C0E",paper:"#0D181C"}},shape:{borderRadius:8},divider:"rgba(0, 0, 0, 0.12)"})},He=function(e){var t=e.children,a=e.dark;return r.a.createElement(Ge.a,{children:t,theme:a?Me.themeDark:Me.themeLight})},Le=function(){var e=Object(i.c)((function(e){return e.darkMode})),t=Object(i.b)();return Object(n.useEffect)((function(){h(t)}),[t,e]),r.a.createElement(l.a,null,r.a.createElement(He,{dark:e},r.a.createElement(u.a,null),r.a.createElement(z,null),r.a.createElement(Fe,null)))},Pe=a(36),Ve=a(13),Ye={city:{key:"215854",name:"Tel Aviv",country:"Israel"},pending:!0,data:[],error:null},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_CITY":return Object(Ve.a)(Object(Ve.a)({},e),{},{city:t.payload});case"FETCH_DATA_PENDING":return Object(Ve.a)(Object(Ve.a)({},e),{},{pending:!0});case"FETCH_DATA_SUCCESS":return Object(Ve.a)(Object(Ve.a)({},e),{},{pending:!1,data:t.payload});case"FETCH_DATA_ERROR":return Object(Ve.a)(Object(Ve.a)({},e),{},{pending:!1,error:t.payload});default:return e}},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAVORITES":case"REMOVE_FROM_FAVORITES":return t.payload;default:return e}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"DARK_MODE"===t.type?!!t.payload:e},Be={pending:!0,data:{},error:null},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FIVE_DAYS_DATA_PENDING":return Object(Ve.a)(Object(Ve.a)({},e),{},{pending:!0});case"FIVE_DAYS_DATA_SUCCESS":return Object(Ve.a)(Object(Ve.a)({},e),{},{pending:!1,data:t.payload});case"FIVE_DAYS_DATA_ERROR":return Object(Ve.a)(Object(Ve.a)({},e),{},{pending:!1,error:t.payload});default:return e}},Xe={query:""},qe={pending:!0,suggestions:[],error:null},Qe={open:!1,anchorEl:null},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return Object(Ve.a)(Object(Ve.a)({},e),{},{query:t.payload});default:return e}},$e={open:!1,msg:""},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_TOAST":return{open:!0,msg:t.payload};case"CLOSE_TOAST":return{open:!1,msg:""};default:return e}},tt=Object(Pe.b)({currentCity:ze,favorites:Je,darkMode:We,fiveDaysData:Ke,suggestion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SUGGESTION_PENDING":return Object(Ve.a)(Object(Ve.a)({},e),{},{pending:!0});case"FETCH_SUGGESTION_SUCCESS":return Object(Ve.a)(Object(Ve.a)({},e),{},{pending:!1,suggestions:t.payload});case"FETCH_SUGGESTION_ERROR":return Object(Ve.a)(Object(Ve.a)({},e),{},{pending:!1,error:t.payload});default:return e}},suggestionMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_SUGGESTION_MENU":return{open:!0,anchorEl:t.payload};case"CLOSE_SUGGESTION_MENU":return{open:!1,anchorEl:t.payload};default:return e}},search:Ze,toast:et}),at=Object(Pe.c)(tt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(r.a.createElement(i.a,{store:at},r.a.createElement(Le,null)),document.getElementById("root"))},94:function(e,t,a){e.exports=a(122)}},[[94,1,2]]]);
//# sourceMappingURL=main.de32db76.chunk.js.map